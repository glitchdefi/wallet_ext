(()=>{"use strict";const e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this");const n=(t="chrome",o=e.browser,void 0===e[t]?o:e[t]);var t,o;var i="glitch-wallet-extension",a=("".concat(i,"-extension"),"".concat(i,"-content")),c="".concat(i,"-content"),r="".concat(i,"-page"),s=function(){return s=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},s.apply(this,arguments)},d=n.runtime.connect({name:a});d.onMessage.addListener((function(e){window.postMessage(s(s({},e),{origin:c}),"*")})),window.addEventListener("message",(function(e){var n=e.data;e.source===window&&n.origin===r&&d.postMessage(n)}));var l=document.createElement("script");l.src=n.extension.getURL("page.bundle.js"),l.onload=function(){l.parentNode&&l.parentNode.removeChild(l)},(document.head||document.documentElement).appendChild(l)})();